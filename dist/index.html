<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style type="text/css">*{box-sizing:border-box;user-select:none}body,html{width:100%;height:100%;margin:0;padding:0}html{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='64' height='128' viewBox='0 0 32 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 28h20V16h-4v8H4V4h28v28h-4V8H8v12h4v-8h12v20H0v-4zm12 8h20v4H16v24H0v-4h12V36zm16 12h-4v12h8v4H20V44h12v12h-4v-8zM0 36h8v20H0v-4h4V40H0v-4z' fill='%23d8b685' fill-rule='evenodd'/%3E%3C/svg%3E");background-color:#e0ddd5}body{padding-top:40px}#w{width:768px;margin:0 auto;position:relative;font-family:Herculanum;box-shadow:0 8px 8px 3px rgba(0,0,0,.5)}#w1{position:relative}#c,#w1{width:100%;height:432px}#c{transform:translateZ(0)}#c,#gg,#pz,#tt{position:absolute}#gg,#pz,#tt{width:100%;height:100%;padding:42px}#gg,#pz{display:none;background:rgb(0 0 0/80%);align-items:center;justify-content:center;text-align:center;color:#fff}#tt{text-align:right;display:flex;flex-direction:column;color:#fff}#t{font-size:80px;flex-grow:1}#t2{font-size:32px}#t3{text-align:right;font-size:18px;margin-bottom:24px}#pz,#rty,#t4{font-size:32px;font-style:italic}#g{font-size:72px;color:#fff}#i{font-family:monospace;background:#e0ddd5;color:#703529;font-weight:700;font-size:18px;padding:12px}#i>div{justify-content:space-evenly}#i>div,.m{display:flex}.m{justify-content:space-between;font-size:32px}#kr,#sr,.m{font-family:monospace}#kr,#sr{text-align:right;margin-bottom:16px}</style></head><body><div id="w"><div id="w1"><canvas id="c"></canvas><div id="pz"><div>[P] to Resume</div></div><div id="gg"><div><h1 id="g">YOU DIED</h1><div class="m"><div>Kills</div><div id="k"></div></div><div id="kr"></div><div class="m"><div>Survived</div><div id="s"></div></div><div id="sr"></div><div id="rty">[Enter] to Retry</div></div></div><div id="tt"><div id="t">The Last<br>Spartan<div id="t2">404 B.C.</div></div><div id="t3">No retreat.<br>No surrender.<br>No way out alive.<br></div><div id="t4">[Enter] to Start</div></div></div><div id="i"><div><div>Move : WASD</div><div>Attack : J</div><div>Block : K</div><div>Jump : SPACE</div><div>Pause : P</div></div><div><div>Bash : K + J</div><div>Slam : SPACE + J</div></div></div></div><script type="text/javascript">(t=>{var s={};function i(h){if(s[h])return s[h].exports;var e=s[h]={i:h,l:!1,exports:{}};return t[h].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=(t,s,h)=>{i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:h})},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},i.t=(t,s)=>{if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.u)return t;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(h,e,(s=>t[s]).bind(null,e));return h},i.n=t=>{var s=t&&t.u?()=>t.default:()=>t;return i.d(s,"a",s),s},i.o=(t,s)=>({}.hasOwnProperty.call(t,s)),i.p="",i(i.s=3)})([function(t,s,i){"undefined"!=typeof window&&window,t.exports=function(t){var s={};function i(t,s,i){this.x=t,this.y=s,this.z=i}i.prototype._=function(t,s,i){return this.x*t+this.y*s+this.z*i};var h=[new i(1,1,0),new i(-1,1,0),new i(1,-1,0),new i(-1,-1,0),new i(1,0,1),new i(-1,0,1),new i(1,0,-1),new i(-1,0,-1),new i(0,1,1),new i(0,-1,1),new i(0,1,-1),new i(0,-1,-1)],e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],r=Array(512),a=Array(512);s.v=t=>{256>t&&(t|=t<<8);for(var s=0;256>s;s++){var i;i=1&s?e[s]^255&t:e[s]^t>>8&255,r[s]=r[s+256]=i,a[s]=a[s+256]=h[i%12]}},s.v(0);var n=1/6;return s.M=(t,s,i)=>{var h,e,o,c,f,u,p=.3333333333333333*(t+s+i),d=Math.floor(t+p),w=Math.floor(s+p),_=Math.floor(i+p),l=(d+w+_)*n,v=t-d+l,M=s-w+l,m=i-_+l;M>v?m>M?(h=0,e=0,o=1,c=0,f=1,u=1):m>v?(h=0,e=1,o=0,c=0,f=1,u=1):(h=0,e=1,o=0,c=1,f=1,u=0):m>M?m>v?(h=0,e=0,o=1,c=1,f=0,u=1):(h=1,e=0,o=0,c=1,f=0,u=1):(h=1,e=0,o=0,c=1,f=1,u=0);var b=v-h+n,g=M-e+n,x=m-o+n,y=v-c+2*n,k=M-f+2*n,S=m-u+2*n,A=v-1+.5,T=M-1+.5,O=m-1+.5,z=a[(d&=255)+r[(w&=255)+r[_&=255]]],V=a[d+h+r[w+e+r[_+o]]],P=a[d+c+r[w+f+r[_+u]]],j=a[d+1+r[w+1+r[_+1]]],L=.6-v*v-M*M-m*m,C=.6-b*b-g*g-x*x,R=.6-y*y-k*k-S*S,K=.6-A*A-T*T-O*O;return 32*((0>L?0:(L*=L)*L*z._(v,M,m))+(0>C?0:(C*=C)*C*V._(b,g,x))+(0>R?0:(R*=R)*R*P._(y,k,S))+(0>K?0:(K*=K)*K*j._(A,T,O)))},s}()},function(t,s){var i=CanvasRenderingContext2D.prototype;i.s=i.save,i.r=i.restore,i.g=i.fillRect,i.k=i.lineTo,i.S=i.translate,i.A=i.beginPath,i.T=function(t){this.fillStyle=t}},(t,s,i)=>{},function(t,s,i){i.r(s);class h{constructor(t=0,s=0){this.x=t,this.y=s}static O(t,s){return new h(t.x+s.x,t.y+s.y)}static V(t,s){return new h(t.x-s.x,t.y-s.y)}static P(t,s){return s instanceof h?new h(t.x*s.x,t.y*s.y):new h(t.x*s,t.y*s)}static j(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}static L(t){return new h(Math.cos(t),Math.sin(t))}static C(t,s){return new h(t.x*Math.cos(s)-t.y*Math.sin(s),t.x*Math.sin(s)+t.y*Math.cos(s))}R(){return new h(this.x,this.y)}K(){return Math.sqrt(this.x*this.x+this.y*this.y)}D(){var t=this.K();return t>0?this.P(1/t):this}F(t){return this.K()>t?(this.D(),this.P(t)):this}add(t){return this.x+=t.x,this.y+=t.y,this}V(t){return this.x-=t.x,this.y-=t.y,this}P(t){return this.x*=t,this.y*=t,this}B(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}J(){return this.x=0,this.y=0,this}}var e=h,r=768,a=432,n=new e(60,30),o=t=>{var s=new e(0,0);return s.x=(t.x-t.y)*n.x/2,s.y=(t.x+t.y)*n.y/2,s},c=t=>{var s=new e;return s.x=t.x/n.x+t.y/n.y,s.y=t.y/n.y-t.x/n.x,s},f=()=>2*Math.random()-1,u=(t,s)=>~~(Math.random()*(s-t+1)+t),p=(t,s,i)=>t>=s&&i>=t,d=t=>1>=t,w=t=>null!=t;class _{constructor(t,s,i,h){this.W=t||0,this.q=s||0,this.N=i||0,this.I=h||0,this.Y=this.W+this.N,this.Z=this.q+this.I}set(t,s,i,h){this.W=t,this.q=s,this.N=i||this.N,this.I=h||this.I,this.Y=this.W+this.N,this.Z=this.q+this.I}}class l{constructor(t,s){this.j=80,this.$=576,this.G=new e,this.H=Math.PI/4,this.U=new _(0,0,0,0),this.X=new e(1,1),this.tt=!0,this.st=.15,this.it=0,this.ht(),this.et=t,this.rt=s,this.at=t/s}nt(t){t.s(),this.P(t),this.S(t)}ot(t){t.r()}P(t){t.scale(this.X.x,this.X.y)}S(t){t.S(-this.U.W,-this.U.q)}ct(t){this.it=Math.max(this.it-t,0),this.ft(this.j+.05*(this.$-this.j))}ht(){this.U.set(this.G.x-this.U.N/2+(this.it?6*f():0),this.G.y-this.U.I/2+(this.it?6*f():0),this.j*Math.tan(this.H),this.U.N/this.at),this.X.x=this.et/this.U.N,this.X.y=this.rt/this.U.I}ft(t){this.j=t,this.ht()}ut(t,s){var i=new e(t,s);this.tt?this.G.V(e.V(this.G,i).P(this.st)):this.G=i.R(),this.ht()}}var v=class{constructor(){this.pt=[],this.dt=new e,this.wt=0,this._t=0,this.lt=0,this.vt=!0,this.Mt=Math.floor(9999*Math.random())}bt(){for(var t=this.dt.R(),s=this.gt;s;)(t=e.C(t,s._t)).add(s.dt),s=s.gt;return t}xt(){for(var t=this._t,s=this.gt;s;)t+=s._t,s=s.gt;return t}yt(){for(var t=this.wt,s=this.gt;s;)t+=s.wt,s=s.gt;return t}kt(t){t.gt=this,this.pt.push(t)}ct(t){this._t+=this.lt;for(var s=this.pt.length;s--;){var i=this.pt[s];i.ct(t),i.vt||this.pt.splice(s,1)}}St(t){var s=this.pt.length;if(0!==s){for(t.s(),t.S(this.dt.x,this.dt.y-this.wt),t.rotate(this._t);s--;)this.pt[s].St(t);t.r()}}},M=class{constructor(t){this.At=t,this.Tt={}}},m=class extends M{constructor(t,s=6,i=1,h=Math.PI/4){super(t),this.Tt={Ot:s,zt:i,Vt:h},this.Pt=t._t}jt(t){var s=this.At.Lt.R();s.D(),s.P(this.Tt.Ot);var i=new e(0,-1);i.P(t||this.Tt.zt);var h=i.K();return i.x=Math.cos(this.Pt)*h,i.y=Math.sin(this.Pt)*h,this.Pt+=Math.random()*this.Tt.Vt-.5*this.Tt.Vt,e.O(s,i)}},b=class extends M{constructor(t){super(t),this.Tt={zt:2}}jt(t,s){return e.V(t.dt,this.At.dt).D().P(s||this.Tt.zt)}},g=class extends b{constructor(t){super(t),this.Tt={zt:2}}jt(t,s){return super.jt(t,s).P(-1)}},x=class extends M{constructor(t){super(t),this.Tt={Ct:5,Rt:.75,Kt:75,Dt:300,zt:1}}jt(t){return this.Ft(mt.Jt.Et.Bt).D().P(t||this.Tt.zt)}Ft(t){var s=this.Wt(t).P(this.Tt.Ct),i=this.qt(t).P(this.Tt.Rt);return s.add(i)}qt(t){var s=new e(0,0),i=0;t.forEach(t=>{var h=e.j(this.At.dt,t.dt);h>0&&h<this.Tt.Dt&&(s.add(t.dt),i++)}),i>0&&s.P(1/i);var h=e.V(s,this.At.dt),r=h.K();return 100>r&&h.P(r/100),h.D().F(.05)}Wt(t){var s=new e,i=0;return t.forEach(t=>{var h=e.j(this.At.dt,t.dt);h>0&&h<this.Tt.Kt&&(s.add(e.V(this.At.dt,t.dt).D().P(1/h)),i++)}),i>0&&s.P(1/i),s}},y=class extends v{constructor(t=new e){super(),this.Lt=new e,this.Nt=new e,this.It=0,this.Yt=.098,this.Zt=10,this.$t=100,this.Gt=1,this.Ht=1/0,this.Qt=-1,this.Ut=0,this.Xt=100,this.ts=0,this.ss=!0,this.hs=1,this.dt=t,this.es=new class{constructor(t){this.rs=new e,this.At=t,this.as=new m(t),this.ns=new b(t),this.os=new g(t),this.cs=new x(t)}fs(t){this.rs.add(this.as.jt(t))}us(t,s){this.rs.add(this.ns.jt(t,s))}ps(t,s){this.rs.add(this.os.jt(t,s))}Ft(t){this.rs.add(this.cs.jt(t))}}(this)}get ds(){return this.ts+this.wt}kt(t){t.gt=this,this.pt.push(t)}ws(){this.vt=!1,this._s&&this._s.ws(),this.gt=void 0}ct(t){if(this.vt)if(this.Ut+=t,0>=this.ls||this.Qt&&-1!==this.Qt&&this.Ut>=this.Qt)this.ws();else{var s=t/1e3,i=this.dt.R();this.Nt.add(this.es.rs.F(this.Gt)),this.Lt.add(this.Nt).F(this.$t*s),this.dt.add(this.Lt),this.Nt.J(),this.es.rs.J(),this.It-=this.Yt,this.wt=Math.max(0,this.wt+this.It),0===this.wt&&(this.It=0,this.lt=0),this.ss&&this.vs(i,this.dt),this.Ms(),super.ct(t)}}ms(t){return mt.Jt.bs&&0!==mt.Jt.bs.gs.length&&60>t.x&&t.x>=0&&60>t.y&&t.y>=0?mt.Jt.bs.gs[t.y][t.x]:null}xs(){return e.j(this.dt,mt.Jt.ys.dt)}vs(t,s){var i=c(t),h=c(s),r=this.ms(h.R().B());if(!r||!w(r.ks)){var a=i.R(),n=e.V(h,i),f=n.R();f.y=0;var u=this.ms(e.O(i,f).B());u&&w(u.ks)&&a.add(f);var p=n.R();p.x=0,(u=this.ms(e.O(i,p).B()))&&w(u.ks)&&a.add(p),this.dt=o(a)}}Ms(){var t=c(this.bt()).B(),s=this.ms(t);if(s){var i=s.I-this.ts;0>i&&w(s)&&(this.wt+=this.ts-s.I),this.ts=s.I,this.Ss=s.ks,this.As=s,i>0&&(this.wt=Math.max(0,this.wt-i))}}};class k extends v{Ts(t){return this.pt.filter(s=>this.Os(t,s))}Os(t,s){if(t!==s&&t.zs.Mt!==s.zs.Mt)return this.Vs(t,s)}Vs(t,s){return t.p.x<s.p.x+s.w&&t.p.x+t.w>s.p.x&&t.p.y<s.p.y+s.h&&t.p.y+t.h>s.p.y}}class S extends y{constructor(t,s,i,h,r=-1,a=!1){super(),this.w=i,this.h=h,this.zs=t,this.Ps=s||new e,this.ct(0),this.Qt=r,a&&mt.Jt.js.kt(this)}ct(t){super.ct(t),this.p=this.zs.dt.R().add(this.Ps).add(new e(0,-this.zs.wt))}}class A extends y{constructor(){super(),this.js=new k,this.Ls=new l(r,a),this.Ls.G=o(new e(5,5))}ct(t){this.Ls.ct(t),this.js.ct(t),super.ct(t)}Cs(t){this.kt(t)}Rs(t){return p(t.x,this.Ls.U.W-100,this.Ls.U.Y+100)&&p(t.y,this.Ls.U.q-100,this.Ls.U.Z+100)}}var T,O,z,V=new class{constructor(){var t=t=>s=>{switch(1===s.which?this.Ks=t:3===s.which&&(s.preventDefault(),this.Ds=t),s.code){case"KeyD":this.Fs=t;break;case"KeyS":this.Bs=t;break;case"KeyA":this.Es=t;break;case"KeyW":this.Js=t;break;case"Space":this.Ws=t;break;case"KeyJ":this.Ks=t;break;case"KeyK":this.Ds=t}};window.addEventListener("keydown",t(!0)),window.addEventListener("keyup",t(!1)),window.addEventListener("mousedown",t(!0)),window.addEventListener("mouseup",t(!1))}},P=class{constructor(t,s,i=!0){this.qs=0,this.Ns=[],this.Is=t,this.Ys=i,["body","head","sword","shield","legL","legR"].forEach(i=>{for(var h=s[i]||[{f:0},{f:t}],r=1;r<h.length;r++)for(var a=h[r-1],n=h[r],o=n.f-a.f,c=0;o>c;c++){var f=c/o,u=this.Ns[a.f+c],p=u||{},d={};if(a.hasOwnProperty("p")){var w=a.p[0]+(n.p[0]-a.p[0])*f,_=a.p[1]+(n.p[1]-a.p[1])*f;d.dt=new e(w,_)}else d.dt=new e(0,0);if(a.hasOwnProperty("r")){var l=a.r+(n.r-a.r)*f;d.r=l}else d.r=0;p[i]=d,u||this.Ns.push(p)}})}get current(){return this.Ns[this.qs]}get finished(){return!this.Ys&&this.qs===this.Is-1}ct(){this.qs+=1,this.qs>this.Is-1&&(this.qs=0)}},j=class extends y{constructor(t,s){super(t),this.Zs=!1,this.$s=s,this.ss=!1}ct(t){0===this.wt&&(this.Lt.J(),this.Zs=!1);var s=this.Qt-this.Ut;-1!==this.Qt&&s<.1*this.Qt&&(this.hs=s/(.1*this.Qt)),super.ct(t)}Gs(t){t.T("rgba(0,0,0,0.5"),t.g(.4*-this.$s.x,this.wt,.8*this.$s.x,this.$s.y/2)}},L=class extends y{constructor(t,s,i,h,e,r,a,n){super(t),this.wt=s,this.It=i,this.Lt=h,this.$s=e,this.Hs=r,this.Qt=a,this.Qs=n,this.Ms()}ct(t){super.ct(t),this.$s+=this.Hs*t}St(t){t.T("rgba(0,0,0,0.5"),t.g(this.dt.x-this.$s/4,this.dt.y+this.$s/4-this.ts,this.$s/2,this.$s/2),t.T(this.Qs),t.g(this.dt.x-this.$s/2,this.dt.y-this.$s/2-this.ds,this.$s,this.$s),super.St(t)}},C=class extends y{constructor(){super(...arguments),this.Us=new e,this.Xs=0,this.It=0,this.ti=0,this.si=0,this.ii=0,this.Zt=0,this.hi=0,this.$s=0,this.ei=0,this.ri=0,this.ai=0,this.ni=0,this.oi=0,this.Qs="#fff",this.ci=0,this.fi=0,this.ui=-1,this.pi=!0,this.di=!1,this.wi=[]}ct(t){if(0===this.ui)for(;this.wi.length<this.ii;)this.emit();super.ct(t),this.wi=this.wi.filter(t=>t.vt);var s=this.ii/this.ni;if(this.vt&&s>0){var i=1/s;for(this.ci+=t;this.wi.length<this.ii&&this.ci>i&&this.pi;)this.emit(),this.ci-=i;this.fi+=t,-1!==this.ui&&this.ui<this.fi&&this.ws()}}emit(){var t=this.Us.R().P(f());this.di&&(t=e.C(t,this.xt()));var s=this.di?this.bt():this.dt.R();s.x+=t.x,s.y+=t.y;var i=(this.di?this.xt():this._t)+this.si*f(),h=this.Zt+this.hi*f(),r=new e(Math.cos(i),Math.sin(i)).P(h),a=this.$s+this.ei*f();a=0>a?0:~~a;var n=this.ri+this.ai*f();n=0>n?0:~~n;var o=this.It+this.ti*f();o=0>o?0:~~o;var c=this.ni+this.oi*f(),u=(n-a)/c,p=new L(s,this.Xs,o,r,a,u,c,this.Qs);void 0!==this.Yt&&(p.Yt=this.Yt),this.di?(p.wt=this.yt(),mt.Jt.Cs(p)):this.kt(p),this.wi.push(p)}},R=class extends j{constructor(t,s,i){super(t,s),this._i=i}li(){var t=new C;Object.assign(t,{dt:new e(0,this.$s.y/2),_t:Math.PI/2,di:!0,Qs:"#db0000",ii:24,$s:12,ni:2600,oi:800,Zt:.2,hi:.1,si:.5,ui:3200}),this.kt(t)}St(t,s={dt:new e,r:0},i){super.St(t),t.s(),t.S(this.dt.x+s.dt.x,this.dt.y+s.dt.y-this.ds),this.Zs&&this.Gs(t),t.rotate(s.r+this._t),this._i&&(t.T(i||"#900"),t.g(.7*-this.$s.x,.7*-this.$s.y,.8*this.$s.x,this.$s.y)),t.T(i||"#fbca03"),t.g(-this.$s.x/2,-this.$s.y/2,this.$s.x,this.$s.y),t.A(),t.strokeStyle=i||"#222",t.lineWidth=2,t.moveTo(0,0),t.k(this.$s.x/2,0),t.stroke(),t.moveTo(this.$s.x/3,0),t.k(this.$s.x/3,this.$s.y/2),t.stroke(),t.r()}},K=class extends j{St(t,s={dt:new e,r:0},i,h=!1){t.s(),t.lineWidth=1,t.globalAlpha=this.hs,t.S(this.dt.x+s.dt.x,this.dt.y+s.dt.y-this.ds-(h?6:0)),this.Zs&&this.Gs(t),t.rotate(s.r+this._t),t.T(i||"#963"),t.g(-6,-1,6,2),t.lineWidth=2,t.T(i||"#d8d8d8"),t.g(0,-2,this.$s.x-6,this.$s.y),t.r()}};T=(t=1,s=.05,i=220,h=0,e=0,r=.1,a=0,n=1,o=0,c=0,f=0,u=0,p=0,d=0,w=0,_=0,l=0,v=1,M=0,m=0)=>{var b,g,x=2*Math.PI,y=o*=500*x/z**2,k=(w>0?1:-1)*x/4,S=i*=(1+2*s*Math.random()-s)*x/z,A=[],T=0,V=0,P=0,j=1,L=0,C=0,R=0;for(c*=500*x/z**3,w*=x/z,f*=x/z,u*=z,p=z*p|0,g=(h=99+z*h)+(M*=z)+(e*=z)+(r*=z)+(l*=z)|0;g>P;A[P++]=R)++C%(100*_|0)||(R=a?a>1?a>2?a>3?Math.sin((T%x)**3):Math.max(Math.min(Math.tan(T),1),-1):1-(2*T/x%2+2)%2:1-4*Math.abs(Math.round(T/x)-T/x):Math.sin(T),R=(p?1-m+m*Math.sin(2*Math.PI*P/p):1)*(R>0?1:-1)*Math.abs(R)**n*t*.3*(h>P?P/h:h+M>P?1-(P-h)/M*(1-v):h+M+e>P?v:g-l>P?(g-P-l)/r*v:0),R=l?R/2+(l>P?0:(g-l>P?1:(g-P)/l)*A[P-l|0]/2):R),T+=(b=(i+=o+=c)*Math.sin(V*w-k))-b*d*(1-1e9*(Math.sin(P)+1)%2),V+=b-b*d*(1-1e9*(Math.sin(P)**2+1)%2),j&&++j>u&&(i+=f,S+=f,j=0),!p||++L%p||(i=S,o=y,j=j||1);return(t=O.createBuffer(1,g,z)).getChannelData(0).set(A),(i=O.createBufferSource()).buffer=t,i.connect(O.destination),i.start(),i},O=new(window.AudioContext||webkitAudioContext),z=44100;var D,F,B=T,E=(D=B,(...t)=>{var s=!F;clearTimeout(F),F=setTimeout(()=>{F=null},48),s&&D.apply(void 0,t)}),J=(t,s=!1)=>s?E(...t):B(...t),W={body:[{f:0,p:[0,0]},{f:10,p:[0,-1]},{f:20,p:[0,0]}],head:[{f:0,p:[0,0]},{f:5,p:[0,1]},{f:20,p:[0,0]}],sword:[{f:0,r:0},{f:10,r:-.045},{f:20,r:0}],shield:[{f:0,r:.14,p:[0,2.5]},{f:10,r:.16,p:[.5,3]},{f:20,r:.14,p:[0,2.5]}]},q={body:[{f:0,r:.1,p:[0,4]},{f:10,r:.1,p:[0,3.5]},{f:20,r:.1,p:[0,4]}],head:[{f:0,p:[0,5]},{f:5,p:[0,4.5]},{f:20,p:[0,5]}],sword:[{f:0,r:.25,p:[-6,2]},{f:10,r:.25,p:[-6,1.5]},{f:20,r:.25,p:[-6,2]}],shield:[{f:0,p:[8,1.5]},{f:0,p:[8.25,1.75]},{f:20,p:[8,1.5]}]},N={body:[{f:0,r:.2,p:[0,2]},{f:3,r:.2,p:[0,3]},{f:7,r:.2,p:[0,2]},{f:13,r:.2,p:[0,3]},{f:20,r:.2,p:[0,2]}],head:[{f:0,r:-.1,p:[1,4]},{f:3,r:-.1,p:[1,5]},{f:7,r:-.1,p:[1,4]},{f:13,r:-.1,p:[1,5]},{f:20,r:-.1,p:[1,4]}],sword:[{f:0,r:.2,p:[-3,1]},{f:10,r:.25,p:[-6,1]},{f:20,r:.2,p:[-3,1]}],shield:[{f:0,p:[13.5,-1.75]},{f:10,p:[14,-2]},{f:20,p:[13.5,-1.75]}],legL:[{f:0,r:1},{f:10,r:-1},{f:20,r:1}],legR:[{f:0,r:-1},{f:10,r:1},{f:20,r:-1}]},I={body:[{f:0,r:.1,p:[0,0]},{f:3,r:.1,p:[0,2]},{f:7,r:.1,p:[0,0]},{f:13,r:.1,p:[0,2]},{f:20,r:.1,p:[0,0]}],head:[{f:0,r:-.1,p:[0,0]},{f:3,r:-.1,p:[0,2]},{f:7,r:-.1,p:[0,0]},{f:13,r:-.1,p:[0,2]},{f:20,r:-.1,p:[0,0]}],sword:[{f:0,r:-.24,p:[3,-4]},{f:10,r:-.2,p:[0,-4]},{f:20,r:-.24,p:[3,-4]}],shield:[{f:0,r:.24,p:[0,0]},{f:10,r:.2,p:[3,0]},{f:20,r:.24,p:[0,0]}],legL:[{f:0,r:1.4},{f:10,r:-1.4},{f:20,r:1.4}],legR:[{f:0,r:-1.4},{f:10,r:1.4},{f:20,r:-1.4}]},Y={body:[{f:0,r:.1},{f:16,r:.1}],sword:[{f:0,r:-1.5,p:[0,-8]},{f:2,r:-1.5,p:[0,-8]},{f:8,r:0,p:[18,-4]},{f:12,r:.25,p:[12,-4]},{f:16,r:0,p:[0,-4]}],shield:[{f:0,p:[0,0]},{f:16,p:[-8,0]}],legL:[{f:0,r:0},{f:8,r:1},{f:16,r:0}],legR:[{f:0,r:0},{f:8,r:-1},{f:16,r:0}]},Z=Object.assign(Object.assign({},Y),{body:[{f:0,r:.3,p:[0,2]},{f:16,r:.3,p:[0,2]}],head:[{f:0,r:-.1,p:[1,4]},{f:16,r:-.1,p:[1,4]}],sword:[{f:0,r:.2,p:[0,0]},{f:16,r:.2,p:[-8,0]}],shield:[{f:0,p:[14,0]},{f:4,p:[24,0]},{f:10,p:[24,0]},{f:16,p:[14,0]}]}),$={body:[{f:0,r:-.1,p:[0,0]},{f:6,r:-.1,p:[0,0]},{f:24,r:.5,p:[0,5]},{f:36,r:.5,p:[0,5]}],head:[{f:0,r:-.1,p:[0,0]},{f:6,r:-.1,p:[0,0]},{f:24,r:-.3,p:[0,5]},{f:36,r:-.3,p:[0,5]}],sword:[{f:0,r:-Math.PI/2,p:[0,-10]},{f:6,r:-Math.PI/2,p:[0,-10]},{f:20,r:-Math.PI/2,p:[10,10]},{f:36,r:-Math.PI/2,p:[10,10]}],shield:[{f:0,r:-.1,p:[10,-10]},{f:6,r:-.1,p:[10,-10]},{f:20,r:0,p:[16,12]},{f:36,r:0,p:[16,12]}],legL:[{f:0,r:1},{f:6,r:1.2},{f:24,r:.5},{f:36,r:.5}],legR:[{f:0,r:-1},{f:6,r:-1.2},{f:24,r:0},{f:36,r:0}]},G=(t,s)=>{t=t.substr(1);var i=parseInt(t,16),h=Math.round(2.55*s),e=(i>>16)+h,r=(i>>8&255)+h,a=(255&i)+h;return"#"+(16777216+65536*(255>e?1>e?0:e:255)+256*(255>r?1>r?0:r:255)+(255>a?1>a?0:a:255)).toString(16).slice(1)},H=class extends y{constructor(t,s,i=0,h,r){super(),this.vi=h,this.ks=r,this.Mi=new e(t,s),this.dt=o(this.Mi),this.I=this.mi=i}St(t){if(mt.Jt.Rs(this.dt)){var s=~~this.I;t.drawImage(this.vi,Math.floor(this.ks*(n.x+1)),Math.floor(n.y*s+s*(s+1)/2-s),Math.floor(n.x),Math.floor(n.y+s),Math.floor(this.dt.x-n.x/2),Math.floor(this.dt.y-s),Math.floor(n.x),Math.floor(n.y+s))}super.St(t)}},Q=class extends y{constructor(t){super(t),this.bi=new e(16,18),this.gi=new e(12,18),this.xi=new e(40,4),this.yi=new e(20,20),this.ki=new e(4,8),this.Si=100,this.Ai=0,this.Ti=350,this.Oi=0,this.zi=0,this.Vi=0,this.Pi=!1,this._s=new S(this,new e(-9,-35),18,45,-1,!0),this.ji=500,this.Li=0,this.Ci=500,this.Ri=0,this.Ki=0,this.Di=0,this.Zt=200,this.$t=200,this.Yt=.3,this.Fi=new P(20,W),this.Bi=new P(20,q),this.Ei=new P(20,N),this.Ji=new P(20,I),this.Wi=new P(16,Y,!1),this.qi=this.Fi,this.Ni=!0,this.Ii(),this.Ms()}Ii(){this.Yi=new R(new e(0,-this.gi.y-this.bi.y/2*.8),this.bi,!1),this.Zi=new K(new e(-4,-this.gi.y/2+4),this.xi),this.Yi.gt=this.Zi.gt=this}$i(){if(0>=this.Oi&&this.vt&&0!=~~this.Si){this.Gi(5,600),J([.1,1,1123,.15,,.03,4,.69,,-84.1,,.01,,.8,-4,-.1,,.32,.04,.01]),this.qi=this.Wi,this.Wi.qs=0;var t=this.Ni?1:-1;mt.Jt.js.Ts(new S(this,new e(t*(this.gi.x/2+10+(this.Ni?0:36)),-30),36,20)).forEach(t=>{t.zs.Hi(this)}),this.Oi=this.Ti}}Qi(t,s,i,h){t.Ms(),t.wt=s,t.It=i,t.Lt=e.L(Math.random()*Math.PI),t.lt=f()/h,t.Zs=!0}ws(){this._s.vt=!1;var t=new R(this.dt.R(),this.bi,!1);t.li(),t.Qt=3e5;var s=new K(this.dt.R(),this.xi);s.Qt=3e4,this.Qi(s,40,u(.5,1.5),4),this.Qi(t,40,u(1,4),5),mt.Jt.Cs(t),mt.Jt.Cs(s),super.ws()}Hi(t,s,i=!1){var h=e.V(this.dt,t.dt).D().x;t instanceof it&&(mt.Jt.Ls.it=50);var r=s||i?t.Ui/3:t.Ui,a=!s&&!i;this.Pi&&this.Si>0&&(0>h&&this.Ni||h>0&&!this.Ni)&&(r=0,a=!1,this.Gi(1.5*t.Ui,1e3)),this.Nt.x+=this.Pi?0:10*h,this.It+=i?5:3,this.ls=Math.max(0,this.ls-r),0===this.ls&&(t.Di+=1),this.zi=200,this.Vi+=s?2e3:i?1200:0,J(r?[,1,287,,,.03,2,1.88,-6.4,-27,,,,,,,,.39,.04,.39]:[,,456,,,.14,,1.76,,6.5,,,,1.8,-.6,.3,.11,.53,.05,.23]);var n=new C;Object.assign(n,{dt:new e(0,-this.gi.y/2),di:!0,Qs:a?"#db0000":"#FFDA00",It:a?1:3,ti:2,ii:a?12:4,$s:12,ni:2e3,oi:1e3,Zt:a?.25:20,hi:a?.2:6,si:2*Math.PI,ui:0,Xs:this.gi.y}),this.kt(n)}Xi(){[this.th,this.Wi,this.sh].includes(this.qi)&&!this.qi.finished||(this.Lt.K()>.1?this.Pi?this.qi=this.Ei:this.qi=this.Ji:this.Pi?this.qi=this.Bi:this.qi=this.Fi)}Gi(t,s){this.Si=Math.max(0,this.Si-t),this.Ai=Math.max(this.Ai,s)}ct(t){if(this.Ai=Math.max(this.Ai-t,0),this.Oi=Math.max(this.Oi-t,0),this.zi=Math.max(this.zi-t,0),this.Vi=Math.max(this.Vi-t,0),0===this.Ai&&(this.Si=Math.min(100,this.Si+1)),super.ct(t),this.Xi(),this.qi.ct(),this.qi===this.Ji&&0>this.Ki){var s=Math.max(0,1-e.V(this.dt,mt.Jt.ys.dt).K()/300),i=d(this.Ss);s>.2&&4>=this.wt&&J(i?[s,,60,.01,,.07,,2.47,-.4,50.8,100,.02,,-.2,.1,,.02,,.04,.29]:[s,.1,346,,,.06,,2.23,,-2.8,140,,.01,,,,.21,.25,,.04],!0),this.Ki=160}this.Ki-=t}St(t){if(mt.Jt.Rs(e.O(this.dt,new e(0,-this.ds)))){super.St(t);var s=this.zi>0?"#fff":void 0,i=(s=Math.sin(.02*this.Vi)>0?"#1520a6":s)||"#E0AC69",h=this.qi.current;t.s(),t.lineWidth=1,this.ih&&this.ih.St(t,this.Qs);var r=d(this.Ss);t.S(this.dt.x,this.dt.y-(r?0:this.ki.y)-this.ds),r&&10>=this.wt||(t.T("rgba(0,0,0,0.5"),t.g(-this.bi.x/2,5+this.wt,this.bi.x,6)),this.Ni||t.scale(-1,1),t.s(),t.T(s||"#A87D37"),t.rotate(h.shield.r),t.g(-this.yi.x/2+4+h.shield.dt.x,-this.yi.y-.1*this.gi.y+h.shield.dt.y-(r?8:0),this.yi.x,this.yi.y),t.r(),t.T(s||"#D0814E"),r&&this.wt<=this.ki.y||(t.s(),t.S(-this.ki.x/2-this.gi.x/3,-2),t.rotate(h.legL.r),t.g(0,this.ki.y,this.ki.x,this.ki.y/3),t.r(),t.s(),t.S(-this.ki.x/2+this.gi.x/3,-2),t.rotate(h.legR.r),t.g(0,this.ki.y,this.ki.x,this.ki.y/3),t.r()),t.s(),t.rotate(h.body.r),t.T(i),t.g(-this.gi.x/2+h.body.dt.x,-this.gi.y+h.body.dt.y,this.gi.x,.6*this.gi.y),r&&this.wt<=.45*this.gi.y||(t.T(s||G(this.Qs,10)),t.g(-this.gi.x/2+h.body.dt.x,.4*-this.gi.y+h.body.dt.y,this.gi.x,.45*this.gi.y)),this.Yi.St(t,h.head,s),t.r(),this.Zi.St(t,h.sword,s,r),t.r()}}},U=i(0),X=i.n(U),tt=class{constructor(t,s,i=!1){this.Nt=new e,this.hh=1,this.dt=new e(t,s),this.eh=this.dt.R(),this.rh=i}ct(t){if(!this.rh){var s=this.dt.x,i=this.dt.y;this.Nt.P(t*t),this.dt.x=1.985*s-.985*this.eh.x+this.Nt.x,this.dt.y=1.985*i-.985*this.eh.y+this.Nt.y,this.Nt.J(),this.eh.x=s,this.eh.y=i}}ah(t){this.Nt.add(t)}},st=class{constructor(t,s,i=1,h){this.nh=t,this.oh=s,this.fh=i,this.uh=h||e.j(t.dt,s.dt)}ph(){var t,s,i=this.nh.dt,h=this.oh.dt,r=e.V(i,h),a=r.K(),n=0===a?this.uh:(this.uh-a)/a;t=.5*this.fh,s=this.fh-t;var o=e.P(r,t*n);this.nh.rh||(i.x+=o.x,i.y+=o.y);var c=e.P(r,s*n);return this.oh.rh||(h.x-=c.x,h.y-=c.y),a}},it=class extends Q{constructor(t){super(t),this.dh=0,this.wh=0,this.Gt=4,this.Ui=25,this.Yi._i=!0,this.Qs="#990000",this.ls=this.Ht=100,this.ih=new class{constructor(t,s,i,h,r){this._h=16,this.lh=5,this.vh=new e(0,.25),this.Mh=[],this.mh=[],this.bh=Math.ceil(h/r),this.gh=Math.ceil(i/r);for(var a=0;a<this.bh;a++)for(var n=0;n<this.gh;n++){var o=new tt(t+n*r,s+a*r,0===a);n&&this.mh.push(new st(o,this.Mh[this.Mh.length-1],.5)),a&&this.mh.push(new st(o,this.Mh[n+this.gh*(a-1)],.5)),this.Mh.push(o)}}ct(t,s,i){for(var h=Math.floor(t/this._h),r=0;h>r;r++){for(var a=0;a<this.Mh.length;a++){var n=this.Mh[a];n.ah(this.vh),n.ct(1/h)}for(var o=0;o<this.lh;o++)this.mh.forEach(t=>t.ph())}this.Mh[0].dt=new e(s-5,i),this.Mh[1].dt=new e(s+5,i);var c=X.a.M(s/1e3,(i-50)/1e3,performance.now()/2200)*Math.PI-Math.PI/2,f=new e(Math.cos(c),Math.sin(c)).D().P(.1);this.Mh.map(t=>t.ah(f))}St(t,s){var i,h;for(h=1;h<this.bh;++h)for(i=1;i<this.gh;++i){t.A();var e=(h-1)*this.gh+i-1,r=h*this.gh+i;t.moveTo(this.Mh[e].dt.x,this.Mh[e].dt.y),t.k(this.Mh[e+1].dt.x,this.Mh[e+1].dt.y),t.k(this.Mh[r].dt.x,this.Mh[r].dt.y),t.k(this.Mh[r-1].dt.x,this.Mh[r-1].dt.y),t.T(s),t.fill()}}}(t.x,t.y-this.gi.y,26,37.5,13),this.th=new P(16,Z,!1),this.sh=new P(36,$,!1)}Hi(t,s){this.dh=1e3,super.Hi(t,s)}xh(){this.wh>1e3||this.Ri>0||!this.vt||0==~~this.Si||(this.Gi(50,600),this.$t=2e3,this.Gt=2e3,setTimeout(()=>{this.It=-14,mt.Jt.bs&&mt.Jt.bs.yh(this.As.Mi),mt.Jt.js.Ts(new S(this,new e(-100,-100),200,200)).forEach(t=>{t.zs.Hi(this,!1,!0)}),mt.Jt.Ls.it=100,J([,,463,,,.45,2,.38,-3.9,,,,,1.2,,.1,.1,.72,.02])},200),this.qi=this.sh,this.sh.qs=0,this.Ri=this.Ci,this.Oi=this.Ti)}kh(){if(0>=this.Li&&this.vt&&0!=~~this.Si){if(this.Gi(10,600),this.$t=2e3,this.Nt.x+=this.Ni?5:-5,J([,.5,310,.04,.01,.13,,.29,-3.2,,,,,,,,,.74,.02]),mt.Jt.bs){var t=new C;Object.assign(t,{_t:-Math.PI/2,di:!0,Qs:"rgba(205,190,171,0.8)",ii:40,ri:12,ai:6,ni:600,oi:200,Yt:0,ui:360}),this.kt(t)}this.qi=this.th,this.th.qs=0;var s=this.Ni?1:-1;mt.Jt.js.Ts(new S(this,new e(s*(this.gi.x/2+10+(this.Ni?0:48)),-24),48,12)).forEach(t=>{t.zs.Hi(this,!0),t.zs instanceof Q&&this.Gi(10,600)}),this.Li=this.ji}}ct(t){this.wh+=t,this.dh=Math.max(this.dh-t,0),this.Li=Math.max(this.Li-t,0),this.Ri=Math.max(this.Ri-t,0),0===this.dh&&100===this.Si&&(this.ls=Math.min(this.Ht,this.ls+.2));var s=this.qi===this.th;s||(V.Js&&(this.Nt.y-=3),V.Es&&(this.Nt.x-=3,this.Ni=!1),V.Bs&&(this.Nt.y+=3),V.Fs&&(this.Nt.x+=3,this.Ni=!0),V.Ds?(this.Pi=!0,this.Gt=2.5,V.Ks&&this.kh()):(this.Pi=!1,this.Gt=4,V.Ks&&(this.wt>20?this.xh():this.$i()))),V.Ws&&this.Si>0&&0===this.wt&&(this.wh=0,this.It=6,this.Gi(5,600),J([.5,1,377,.03,.09,,,.86,2.7,,-50,,,,,,,.57,.06])),(s=this.qi===this.th)||(this.Lt.P(0),this.Nt.D().P(3),this.$t=this.Pi?100:200,this.Yt=.3,this.Gt=4),this.ih.ct(t,this.dt.x,this.dt.y-this.gi.y-this.ki.y-this.ds),super.ct(t)}},ht=class extends y{constructor(t){super(),this.ys=t,this.Sh=new R(new e(750,34),new e(12,14),0)}Ah(t,s,i,h){t.miterLimit=2,t.font="20px monospace",t.strokeStyle="#000",t.lineWidth=4,t.strokeText(s,i,h),t.T("#fff"),t.fillText(s,i,h)}St(t){t.T("#fff"),t.g(9,9,202,22),t.g(9,34,202,12),t.T("#d11141"),t.g(10,10,this.ys.ls/this.ys.Ht*200,20),t.T("#00aedb"),t.g(10,35,this.ys.Si/100*200,10),t.textAlign="right",this.Ah(t,(this.Ut/1e3).toFixed(2),762,20),this.Ah(t,this.ys.Di,762,40),this.Sh.St(t,{dt:new e(-12*(""+this.ys.Di).length,0),r:0},0)}},et=class extends Q{constructor(t){super(t),this.Th=0,this.Oh=40,this.Zt=5,this.Gt=1,this.$t=3e3,this.Xt=550,this.Ui=7,this.ls=this.Ht=50,this.Qs="#84b9d1",this.es.as.Tt.Ot=.15}ct(t){if(this.Vi>0||this.zi>0)return this.wt>4||this.Lt.P(.5),void super.ct(t);var s=this.xs();this.Th>0?(this.Th-=t,this.es.ps(mt.Jt.ys,3)):(s<this.Xt?s<this.Oh?(this.$i(),setTimeout(()=>{this.Th=600},260)):this.es.us(mt.Jt.ys,3):this.es.fs(.25),this.es.rs.x>0?this.Ni=!0:0>this.es.rs.x&&(this.Ni=!1)),this.es.Ft(),this.Lt.P(0),super.ct(t)}},rt=class extends et{constructor(t){super(t),this.Zt=3,this.Gt=.5,this.$t=1500,this.Xt=700,this.Ui=24,this.ls=this.Ht=200,this.Oh=60,this.gi=new e(24,36),this.bi=new e(28,36),this.ki=new e(8,8),this.xi=new e(60,6),this.yi=new e(40,40),this.Ii()}},at=()=>{for(var t=mt.Jt.bs.gs;;){var s=u(0,59),i=u(0,59),h=t[s][i].ks,r=o(new e(i,s));if(w(h)&&!d(h)&&!mt.Jt.Rs(r))return r}},nt=class extends v{constructor(){super(...arguments),this.zh=0,this.Vh=40,this.Ph=2e3,this.jh=0,this.Bt=[]}ct(t){this.Bt=this.Bt.filter(t=>t.vt),this.jh<this.Ph||(this.jh=0,this.Bt.length<this.Vh&&(this.zh++,this.zh&&this.zh%10==0?this.Lh(!0):this.Lh())),this.jh+=t}Lh(t){this.Ph=Math.max(1e3,this.Ph-10);var s=at(),i=t?new rt(s):new et(s);this.gt.kt(i),this.Bt.push(i)}},ot=class extends H{ct(t){mt.Jt.Rs(this.dt)&&(this.I=30*Math.abs(X.a.M(this.dt.x/300,this.dt.y/300,performance.now()/2600)),this.ks=this.I>16?1:0)}},ct=["#e3fd98","#d9f669","#d4ee4b","#beea41","#a9ce21"],ft=class extends y{constructor(t){var s;super(t),this.Ch=0,this.Rh=u(24,38),this.Qs=(s=ct)[~~(Math.random()*s.length)],this._t=-Math.PI/2,this.Ch=0,this._s=new S(this,new e(-10,-this.Rh),20,this.Rh,null,!0),this.ss=!1,this.Yt=10}Hi(){J([.3,1,300,.04,,.08,2,2.6,-26,,-222,.02,,,-6,.1,,.47,.03]);var t=new C;Object.assign(t,{di:!0,Qs:this.Qs,It:1,ti:.5,ii:1,$s:14,ni:1200,oi:200,Zt:.4,hi:.2,si:2*Math.PI,ui:0,Yt:.02}),this.kt(t),setTimeout(()=>{this.ws()},10)}ct(t){mt.Jt.Rs(e.O(this.dt,new e(0,-this.ds-this.Rh)))&&(this.Ch=.5*X.a.M(this.dt.x/200,this.dt.y/200,performance.now()/2200),super.ct(t))}St(t){if(mt.Jt.Rs(e.O(this.dt,new e(0,-this.ds)))){t.s(),t.lineWidth=10,t.S(this.dt.x,this.dt.y-this.ds),t.A(),t.moveTo(0,0);var s=new e(Math.cos(this._t+this.Ch),Math.sin(this._t+this.Ch)).D().P(this.Rh);t.k(s.x,s.y),t.strokeStyle=this.Qs,t.stroke(),t.r(),super.St(t)}}},ut=class extends y{constructor(t){super(t),this.Rh=u(100,200),this.$s=new e(.75,.5).P(this.Rh),this.Yt=10,this.ss=!1}St(t){if(mt.Jt.Rs(e.O(this.dt,new e(0,-this.ds-this.Rh/2)))){var s=X.a.M(this.dt.x/200,this.dt.y/200,performance.now()/2200)*Math.PI*2,i=new e(Math.cos(s),Math.sin(s)).D();t.s(),t.lineWidth=20,t.S(this.dt.x,this.dt.y-this.ds),t.A(),t.moveTo(0,0),t.k(0,-this.Rh),t.strokeStyle="#8b632f",t.stroke(),t.s(),t.globalAlpha=.9,t.transform(1+i.x/60,i.x/60,i.y/60,1+i.y/60,0,0),t.T("#a6da39"),t.g(-this.$s.x/2,-this.Rh-this.$s.y/2,this.$s.x,this.$s.y),t.r(),t.r(),super.St(t)}}},pt=class extends H{constructor(t,s,i,h,r,a){super(t,s,i,h,r);var n=Math.abs(X.a.M(t/10,s/10,mt.v));if(n>.94){var c=o(new e(t+Math.random(),s+Math.random()));a.kt(new ut(c))}else if(n>.5)for(var f=~~((n-.5)/.45*8),u=0;f>u;u++)c=o(new e(t+Math.random(),s+Math.random())),a.kt(new ft(c))}},dt=(t,s,i,h,e)=>{for(var r=0,a=1,n=1,o=0,c=0;h>c;c++)r+=X.a.M(t*a,s*a,i*a)*n,o+=n,n*=e,a*=2;return r/o},wt=class extends y{constructor(t,s){super(),this.gs=[],this.Kh=0;for(var i=60;i--;){for(var h=[],e=60;e--;){var r,a=dt(i/85,e/85,mt.v,3,1),n=9;0>a?n=1:.05>a?n=2:.1>a?n=3:1>a&&(n=4),a=Math.abs(a),0===n||1===n?r=new ot(e,i,20,t,n):2===n||3===n?r=new H(e,i,20+200*a,t,n):4===n&&(r=new pt(e,i,Math.min(99,20+200*a),t,n,s)),this.kt(r),h.push(r)}this.gs.push(h.reverse())}this.gs.reverse()}yh(t){this.Dh=t,this.Fh=1,this.Kh=400}ct(t){if(this.Kh=Math.max(this.Kh-t,0),this.Fh+=.15,this.Dh&&20>this.Fh)for(var s=this.gs.length;s--;)for(var i=this.gs[s],h=i.length;h--;){var e=i[h],r=Math.sqrt(Math.pow(this.Dh.x-e.Mi.x,2)+Math.pow(this.Dh.y-e.Mi.y,2)),a=Math.abs(this.Fh-r);e.I=1>a?Math.min(119,e.mi+40*(1-a/1)*(this.Kh/400)):e.mi}super.ct(t)}},_t=class extends A{constructor(t){super(),setTimeout(()=>{this.Bh=new y,this.bs=new wt(t,this.Bh),this.kt(this.Bh),this.kt(this.bs),this.ys=new it(at()),this.Ls.G=this.ys.dt.R(),this.Eh=new ht(this.ys),this.Bh.kt(this.ys),this.Et=new nt,this.Bh.kt(this.Et)},10)}Cs(t){this.Bh.kt(t)}ct(t){this.Eh.ct(t),this.Bh.pt=this.Bh.pt.sort((t,s)=>s.dt.y-t.dt.y),0===this.ys.ls&&(this.Jh=!0),super.ct(t)}St(t){this.Ls.ut(this.ys.dt.x,this.ys.dt.y-this.ys.ds),this.Ls.nt(t),super.St(t),this.Ls.ot(t),this.Eh.St(t)}},lt=class extends A{constructor(){super(),this.Ls.G=new e(30,-22),this.Ls.$=this.Ls.j=96,setTimeout(()=>{this.ys=new it(new e),this.kt(this.ys)},0)}St(t){this.Ls.nt(t),super.St(t),this.Ls.ot(t)}},vt=(t,s,i,h,e)=>{var r=n.x/2,a=n.x/2,o=.5*r+.5*a;t.s(),t.A(),t.moveTo(s,i+o),t.k(s-r,i+o-.5*r),t.k(s-r,i+o-h-.5*r),t.k(s,i+o-1*h),t.closePath(),t.fillStyle=t.strokeStyle=G(e,-20),t.stroke(),t.fill(),t.A(),t.moveTo(s,i+o),t.k(s+a,i+o-.5*a),t.k(s+a,i+o-h-.5*a),t.k(s,i+o-1*h),t.closePath(),t.fillStyle=t.strokeStyle=G(e,-10),t.stroke(),t.fill(),t.A(),t.moveTo(s,i-h),t.k(s-r,i-h+.5*r),t.k(s-r+a,i-h+o),t.k(s+a,i-h+.5*a),t.closePath(),t.fillStyle=t.strokeStyle=e,t.strokeStyle=G(e,-10),t.stroke(),t.fill(),t.r()},Mt=(i(1),"mjf_tls"),mt=new class{constructor(){this.Wh=!1,this.qh=!1,this.Nh=window.localStorage,this.Ih=performance.now(),this.Yh=document.getElementById("c"),this.Zh=this.Yh.getContext("2d"),this.Yh.width=r,this.Yh.height=a,this.Yh.oncontextmenu=()=>!1,this.$h=document.getElementById("tt"),this.Gh=document.getElementById("pz"),this.Hh=document.getElementById("gg"),this.Qh=document.getElementById("k"),this.Uh=document.getElementById("s"),this.Xh=document.getElementById("kr"),this.te=document.getElementById("sr"),window.onkeydown=t=>{switch(t.code){case"KeyP":if(this.Jt.Jh)return;this.qh?this.se():this.ie();break;case"Enter":this.Wh?this.Jt.Jh&&this.he():(this.ee(),this.Wh=!0,this.re(null,this.$h),this.he())}},this.ae=(()=>{var{tmpC:t,tmpCtx:s}=(()=>{var t=document.createElement("canvas"),s=t.getContext("2d");return{tmpC:t,tmpCtx:s}})(),i=["#1ba5e1","#1eb8fa","#e5d9c2","#564d40","#48893e"];t.width=(n.x+1)*i.length,t.height=120*n.y+7260;for(var h=0;i.length>h;h++)for(var e=i[h],r=h*(n.x+1)+(n.x+1)/2,a=0;120>a;a++){var o=a,c=n.y*a+a*(a+1)/2;vt(s,r,c,o,e)}return t})(),this.Jt=new lt,this.ne()}ne(){this.oe=requestAnimationFrame(this.ce.bind(this))}ee(){cancelAnimationFrame(this.oe)}ce(t){this.oe=requestAnimationFrame(this.ce.bind(this));var s=Math.max(0,t-this.Ih);this.ct(s),this.Ih=t}re(t,s){t&&(t.style.display="flex"),s&&(s.style.display="none")}ie(){this.Wh&&(this.ee(),this.re(this.Gh),this.qh=!0)}se(){this.Ih=performance.now(),this.ne(),this.re(null,this.Gh),this.qh=!1}ot(){this.ee();var t=this.Jt.ys.Di,s=this.Jt.Ut;this.Qh.innerText=t,this.Uh.innerText=(s/1e3).toFixed(0)+"s",this.re(this.Hh,null);var i=JSON.parse(this.Nh.getItem(Mt)||'{"kills": 0, "time": 0}');this.Xh.innerText="Previous Record: "+i.kills,this.te.innerText=`Previous Record: ${(i.time/1e3).toFixed(0)}s`,t>i.kills&&(i.kills=t),s>i.time&&(i.time=s),this.Nh.setItem(Mt,JSON.stringify(i))}he(){this.re(null,this.Hh),this.v=u(0,99999),this.Jt=new _t(this.ae),setTimeout(()=>this.ne(),50)}ct(t){this.Jt.ct(t),this.Jt.Jh&&this.ot(),this.St()}St(){var{Zh:t,Jt:s}=this;t.clearRect(0,0,r,a),t.T("rgba(0,0,0,0.85)"),t.g(0,0,r,a),t.s(),s.St(t),t.r()}};i(2)}]);</script></body></html>